webpackJsonp([24],{"+yyo":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o("bOdI"),i=o.n(s),n=o("p0f0"),r=o("rR9E"),c=(i()({name:"Goods",data:function(){return{goodsName:"",change:!1,goodsLabel:"",categoryId:null,order:"",comprehensive:!1,price:"价格",mescroll:null,mescrollDown:{},mescrollUp:{isBounce:!1,callback:this.upCallback,noMoreSize:10,page:{num:0,size:10},htmlNodata:'<p class="upwarp-nodata">-- 没有更多商品了！ --</p>'},goodsList:"",activeIndex:0}},components:{MescrollVue:n.a,"goods-item":r.a},beforeCreate:function(){this.$store.dispatch("brands")},computed:{imgUrlGoods:function(){return this.$store.state.imgUrlGoods},brands:function(){return this.$store.state.brands}},created:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,document.title=this.$route.query.title||"商品分类",this.goodsName=this.$route.query.goodsName},activated:function(){},methods:{search:function(){this.mescroll.resetUpScroll()},mescrollInit:function(e){this.mescroll=e},upCallback:function(e,t){var o=this,s={};s=this.comprehensive?{limit:e.size,current:e.num,categoryId:"",categoryLevel:"",goodsLabel:"",goodsName:"",order:this.order,brandId:this.brands[this.activeIndex].id}:void 0===this.$route.query.goodsLabel?{limit:e.size,current:e.num,categoryId:null===this.categoryId?this.$route.query.id:"",categoryLevel:this.categoryLevel||this.$route.query.categoryLevel,goodsLabel:this.goodsLabel,goodsName:this.goodsName,order:this.order,brandId:this.brands[this.activeIndex].id}:{limit:e.size,current:e.num,categoryId:this.categoryId,categoryLevel:"",goodsLabel:this.goodsLabel||this.$route.query.goodsLabel,goodsName:this.goodsName,order:this.order,brandId:this.brands[this.activeIndex].id},this.$store.dispatch("goodsList",s).then(function(s){if(200==s.data.code){var i=s.data.data;1===e.num&&(o.goodsList=[]),o.goodsList=o.goodsList.concat(i),o.$nextTick(function(){0==s.data.data.length?t.endSuccess(o.goodsList.length,!1):t.endSuccess(o.goodsList.length)})}}).catch(function(e){return t.endErr()})},changeList:function(e){this.change=!this.change},brand:function(e){this.activeIndex=e,this.change=!1,this.search()},changeSearch:function(e){this.comprehensive=!1,this.goodsLabel=e,this.categoryId="",this.order="",this.search()},orderClick:function(){this.order=0==this.order||""==this.order?1:0,0==this.order?this.price="升序":this.price="降序",this.search()},comprehensiveClick:function(){this.comprehensive=!0,this.order="",this.search()}},beforeRouteLeave:function(e,t,o){"GoodsDetails"===e.name?o():(this.$store.commit("includedComponents",""),this.$store.commit("excludedComponents","Goods"),o())}},"activated",function(){-1==this.$store.state.includedComponents.indexOf("Goods")&&(this.$store.commit("includedComponents",this.$store.state.includedComponent+",Goods"),this.$store.commit("excludedComponents",""))}),i()({name:"Goods",data:function(){return{goodsName:"",change:!1,goodsLabel:"",categoryId:null,order:"",comprehensive:!1,price:"价格",mescroll:null,mescrollDown:{},mescrollUp:{isBounce:!1,callback:this.upCallback,noMoreSize:10,page:{num:0,size:10},htmlNodata:'<p class="upwarp-nodata">-- 没有更多商品了！ --</p>'},goodsList:"",activeIndex:0}},components:{MescrollVue:n.a,"goods-item":r.a},beforeCreate:function(){this.$store.dispatch("brands")},computed:{imgUrlGoods:function(){return this.$store.state.imgUrlGoods},brands:function(){return this.$store.state.brands}},created:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,document.title=this.$route.query.title||"商品分类",this.goodsName=this.$route.query.goodsName},activated:function(){},methods:{search:function(){this.mescroll.resetUpScroll()},mescrollInit:function(e){this.mescroll=e},upCallback:function(e,t){var o=this,s={};s=this.comprehensive?{limit:e.size,current:e.num,categoryId:"",categoryLevel:"",goodsLabel:"",goodsName:"",order:this.order,brandId:this.brands[this.activeIndex].id}:void 0===this.$route.query.goodsLabel?{limit:e.size,current:e.num,categoryId:null===this.categoryId?this.$route.query.id:"",categoryLevel:this.categoryLevel||this.$route.query.categoryLevel,goodsLabel:this.goodsLabel,goodsName:this.goodsName,order:this.order,brandId:this.brands[this.activeIndex].id}:{limit:e.size,current:e.num,categoryId:this.categoryId,categoryLevel:"",goodsLabel:this.goodsLabel||this.$route.query.goodsLabel,goodsName:this.goodsName,order:this.order,brandId:this.brands[this.activeIndex].id},this.$store.dispatch("goodsList",s).then(function(s){if(200==s.data.code){var i=s.data.data;1===e.num&&(o.goodsList=[]),o.goodsList=o.goodsList.concat(i),o.$nextTick(function(){0==s.data.data.length?t.endSuccess(o.goodsList.length,!1):t.endSuccess(o.goodsList.length)})}}).catch(function(e){return t.endErr()})},changeList:function(e){this.change=!this.change},brand:function(e){this.activeIndex=e,this.change=!1,this.search()},changeSearch:function(e){this.comprehensive=!1,this.goodsLabel=e,this.categoryId="",this.order="",this.search()},orderClick:function(){this.order=0==this.order||""==this.order?1:0,0==this.order?this.price="升序":this.price="降序",this.search()},comprehensiveClick:function(){this.comprehensive=!0,this.order="",this.search()}},beforeRouteLeave:function(e,t,o){"GoodsDetails"===e.name?o():(this.$store.commit("includedComponents",""),this.$store.commit("excludedComponents","Goods"),o())}},"activated",function(){-1==this.$store.state.includedComponents.indexOf("Goods")&&(this.$store.commit("includedComponents",this.$store.state.includedComponent+",Goods"),this.$store.commit("excludedComponents",""))})),a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"Goods"}},[s("nav",{staticClass:"search"},[s("div",{staticClass:"search_"},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.goodsName,expression:"goodsName"}],ref:"input",attrs:{id:"name",type:"text",placeholder:"搜索你想要的商品"},domProps:{value:e.goodsName},on:{input:function(t){t.target.composing||(e.goodsName=t.target.value)}}})]),e._v(" "),s("img",{attrs:{src:o("p1AH"),alt:""},on:{click:e.search}})]),e._v(" "),s("ul",[s("li",{on:{click:function(t){e.changeList(0)}}},[e._v("品牌"),s("img",{attrs:{src:o("w80D"),alt:""}})]),e._v(" "),s("li",{on:{click:e.comprehensiveClick}},[e._v("综合")]),e._v(" "),s("li",{on:{click:function(t){e.changeSearch(1)}}},[e._v("新品")]),e._v(" "),s("li",{on:{click:function(t){e.changeSearch(0)}}},[e._v("热销")]),e._v(" "),s("li",{on:{click:e.orderClick}},[e._v(e._s(e.price))])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.change,expression:"change"}],staticClass:"changeList"},[s("div",{staticClass:"changeList_scroll"},[s("div",e._l(e.brands,function(t,o){return s("p",{key:o,class:{actives:o==e.activeIndex},on:{click:function(t){e.brand(o)}}},[e._v(e._s(t.brand_name))])}))])]),e._v(" "),s("mescroll-vue",{staticClass:"GoodsMescroll",attrs:{down:e.mescrollDown,up:e.mescrollUp},on:{init:e.mescrollInit}},[s("div",{staticClass:"goods"},[s("goods-item",{attrs:{goodsList:e.goodsList}})],1),e._v(" "),0==e.goodsList.length?s("div",{staticClass:"goods_no"},[e._v("暂无")]):e._e()])],1)},staticRenderFns:[]};var d=o("VU/8")(c,a,!1,function(e){o("wphH")},"data-v-05ea0004",null);t.default=d.exports},TKuK:function(e,t){},rR9E:function(e,t,o){"use strict";var s={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"_goods"}},e._l(e.goodsList,function(t,i){return s("div",{key:i,staticClass:"goods_list",on:{click:function(o){e.$router.push({path:"/GoodsDetails",query:{id:t.id}})}}},[s("section",{style:{background:"url("+e.imgUrlGoods+t.thumbnail_pic+")","background-size":"cover","background-repeat":"no-repeat","background-position":"center"}},[t.sold_num-t.inventory==0?s("section",{staticClass:"SoldOut"},[s("img",{attrs:{src:o("kvmt"),alt:""}})]):e._e()]),e._v(" "),s("div",[s("p",[e._v(e._s(t.goods_name))])]),e._v(" "),s("span",[e._v("¥"+e._s(t.price))]),s("del",[e._v("¥"+e._s(t.market_price))])])}))},staticRenderFns:[]};var i=o("VU/8")({data:function(){return{}},components:{},props:["goodsList"],beforeCreate:function(){},created:function(){},computed:{imgUrlGoods:function(){return this.$store.state.imgUrlGoods}},methods:{}},s,!1,function(e){o("TKuK")},"data-v-412bc5f7",null);t.a=i.exports},wphH:function(e,t){}});
//# sourceMappingURL=24.d6679d5205f19516b9a1.js.map
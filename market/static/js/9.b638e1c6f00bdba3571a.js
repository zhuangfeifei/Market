webpackJsonp([9],{"5wKX":function(t,e){},ChL6:function(t,e,r){t.exports=r.p+"static/img/Confirm.0fa07ab.png"},L2Jr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r("BO1k"),i=r.n(o),n=r("Dd8w"),s=r.n(n),a=r("MRDV"),d=r("NYxO"),m=(a.a,s()({},Object(d.b)({imgUrlGoods:function(t){return t.imgUrlGoods},CommonOrderDetail:function(t){return t.CommonOrderDetail},user:function(t){return t.user},goods_Allnum:function(){if(this.CommonOrderDetail){var t=0,e=!0,r=!1,o=void 0;try{for(var n,s=i()(this.CommonOrderDetail.goodsList);!(e=(n=s.next()).done);e=!0){t+=n.value.GOODS_NUM}}catch(t){r=!0,o=t}finally{try{!e&&s.return&&s.return()}finally{if(r)throw o}}return t}}})),{data:function(){return{orderStatus:["待付款","待发货","待收货","退换货","已完成"],imgStatus:[r("dCcM"),r("brMr"),r("ChL6")]}},components:{"pay-item":a.a},beforeCreate:function(){this.$store.dispatch("CommonOrderDetail",this.$route.query.order_id),this.$store.dispatch("user")},computed:s()({},Object(d.b)({imgUrlGoods:function(t){return t.imgUrlGoods},CommonOrderDetail:function(t){return t.CommonOrderDetail},user:function(t){return t.user},goods_Allnum:function(){if(this.CommonOrderDetail){var t=0,e=!0,r=!1,o=void 0;try{for(var n,s=i()(this.CommonOrderDetail.goodsList);!(e=(n=s.next()).done);e=!0){t+=n.value.GOODS_NUM}}catch(t){r=!0,o=t}finally{try{!e&&s.return&&s.return()}finally{if(r)throw o}}return t}}})),created:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,document.title="订单详情"},activated:function(){},methods:{pay:function(){var t=this;""!=this.user.wtCustomer.payPassword&&null!=this.user.wtCustomer.payPassword?this.$router.push({path:"/OrdersSubmitted",query:{orderId:this.CommonOrderDetail.ID}}):this.$dialog.confirm({title:"您还没有设置密码！",confirmButtonText:"去设置"}).then(function(){t.$router.push({path:"/Setpassword"})}).catch(function(){})},delivery:function(){var t={orderId:this.CommonOrderDetail.ID,sale_type:0,isGetGoods:0,reason:3,remark:"",credentialsPic:""};this.$store.dispatch("returnOrExchange",t)},orderCancelOrder:function(){var t=this;this.$dialog.confirm({title:"确认取消订单？"}).then(function(){t.$store.dispatch("orderCancelOrder",t.CommonOrderDetail.ID)}).catch(function(){})},confirmDelivery:function(){var t=this;this.$dialog.confirm({title:"确认收货？"}).then(function(){t.$store.dispatch("confirmDelivery",t.CommonOrderDetail.ID)}).catch(function(){})}}}),u={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"CommonOrderDetils"}},[o("nav",{staticClass:"CommonOrderDetils_nav"},[o("div",[o("span",[t._v("订单状态："+t._s(t.orderStatus[t.CommonOrderDetail.ORDER_STATUS]))]),o("p",[t._v("订单日期："+t._s(t.CommonOrderDetail.ORDER_DATE))])]),t._v(" "),o("img",{attrs:{src:t.imgStatus[t.CommonOrderDetail.ORDER_STATUS>2?2:t.CommonOrderDetail.ORDER_STATUS],alt:""}})]),t._v(" "),o("div",{staticClass:"CommonOrderDetils_address"},[o("img",{attrs:{src:r("Li64"),alt:""}}),t._v(" "),t._m(0),t._v(" "),o("div",[o("p",[t._v(t._s(t.CommonOrderDetail.RECIEVE_MAN)),o("span",[t._v(t._s(t.CommonOrderDetail.RECIEVE_PHONE))])]),t._v(" "),o("section",[t._v(t._s(t.CommonOrderDetail.ADDRESS))])])]),t._v(" "),o("div",{staticClass:"CommonOrderDetils_order"},[o("h4",[t._v("方圆里商城")]),t._v(" "),t._l(t.CommonOrderDetail.goodsList,function(e,r){return o("div",{key:r,staticClass:"CommonOrderDetils_goods"},[o("img",{attrs:{src:t.imgUrlGoods+e.THUMB_PIC,alt:""}}),t._v(" "),o("div",{staticClass:"CommonOrderDetils_goods_content"},[o("div",[t._v(t._s(e.GOODS_NAME))]),t._v(" "),o("p",[t._v("规格："+t._s(e.goods_specif))]),t._v(" "),o("p",[t._v("x"+t._s(e.GOODS_NUM)),o("span",[t._v(t._s(e.NOW_PRICE)+"元")])])])])}),t._v(" "),o("div",{staticClass:"CommonOrderDetils_combined"},[t._v("共"+t._s(t.goods_Allnum)+"件商品，合计"),o("span",[t._v("￥"+t._s(t.CommonOrderDetail.ORDER_MONEY))]),t._v("（含运费"),o("span",{staticClass:"freight"},[t._v("￥0")]),t._v("）")]),t._v(" "),o("div",{staticClass:"CommonOrderDetils_order_content"},[o("van-row",[o("van-col",{staticClass:"CommonOrderDetils_order_content_title",attrs:{span:"8"}},[o("p",[t._v("订单编号")]),o("p",[t._v("订单金额")]),o("p",[t._v("优惠券抵")]),o("p",[t._v("积分抵")]),o("p",[t._v("运费")]),o("p",[t._v("实际支付")])]),t._v(" "),o("van-col",{attrs:{span:"16"}},[o("p",[t._v(t._s(t.CommonOrderDetail.ORDER_NO))]),o("p",[t._v("￥"+t._s(t.CommonOrderDetail.ORDER_MONEY))]),o("p",[t._v("-￥"+t._s(t.CommonOrderDetail.COUPON_AMOUNT))]),t._v(" "),o("p",[t._v("-￥"+t._s(t.CommonOrderDetail.INTEGRAL_AMOUNT))]),o("p",[t._v("￥0")]),o("p",[t._v("¥"+t._s(t.CommonOrderDetail.COUPON_AMOUNT>0?t.CommonOrderDetail.TOTAL_AMOUNT:t.CommonOrderDetail.ORDER_MONEY))])])],1)],1)],2),t._v(" "),t.CommonOrderDetail?o("div",{staticClass:"CommonOrderDetils_footer"},[t.CommonOrderDetail.ORDER_STATUS>0&&t.CommonOrderDetail.ORDER_STATUS<3?o("div",{staticClass:"CommonOrder_status_return",on:{click:function(e){e.stopPropagation(),t.$router.push({path:"/Return",query:{id:t.CommonOrderDetail.ID}})}}},[t._v("退换货")]):t._e(),t._v(" "),2==t.CommonOrderDetail.ORDER_STATUS?o("div",{staticClass:"CommonOrder_status_Confirm",on:{click:t.confirmDelivery}},[t._v("确认收货")]):t._e(),t._v(" "),t.CommonOrderDetail.ORDER_STATUS>=2?o("div",{staticClass:"CommonOrder_status_Cancel",on:{click:function(e){e.stopPropagation(),t.$router.push({path:"/Logistics",query:{id:t.CommonOrderDetail.deliverno}})}}},[t._v("查看物流")]):t._e(),t._v(" "),t.CommonOrderDetail.orderAfterList.length>0&&0==t.CommonOrderDetail.orderAfterList[0].sale_type&&t.CommonOrderDetail.ORDER_STATUS<2?o("div",{staticClass:"CommonOrder_status_remind"},[t._v("已提醒")]):t._e(),t._v(" "),t.CommonOrderDetail.ORDER_STATUS>0&&0==t.CommonOrderDetail.orderAfterList.length&&t.CommonOrderDetail.ORDER_STATUS<2?o("div",{staticClass:"CommonOrder_status_delivery",on:{click:t.delivery}},[t._v("提醒发货")]):t._e(),t._v(" "),0==t.CommonOrderDetail.ORDER_STATUS?o("div",{staticClass:"CommonOrder_status_Cancel",on:{click:t.orderCancelOrder}},[t._v("取消订单")]):t._e(),t._v(" "),0==t.CommonOrderDetail.ORDER_STATUS?o("div",{staticClass:"CommonOrder_status_payment",on:{click:t.pay}},[t._v("付款")]):t._e()]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",[this._v("收货人：")]),e("p",[this._v("收货地址：")])])}]};var c=r("VU/8")(m,u,!1,function(t){r("5wKX")},"data-v-3aecb815",null);e.default=c.exports},MRDV:function(t,e,r){"use strict";r("fxnj");var o={data:function(){return{value:"",showKeyboard:!0,isYu:!0,PageShow:!0}},components:{},props:["isWx"],beforeCreate:function(){},created:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,window.document.title="支付订单"},computed:{order:function(){return this.$store.state.order},user:function(){return""==this.$store.state.user&&this.$store.commit("USER"),this.$store.state.user}},methods:{isShowPay:function(){this.$store.commit("SET_PAY",!1)},pay:function(){this.isWx?this.wxPay():this.isYu=!1},onInput:function(t){if(this.value=(this.value+t).slice(0,6),6==this.value.length)if(this.$store.commit("SET_PAY",!1),!this.isWx&&this.user.wtCustomer.amount>this.order.amount){this.$toast.loading({mask:!0,message:"支付中...",duration:0});var e={orderId:this.order.order_id,payType:3,payPwd:this.value,yueAmount:this.order.amount,wxAmount:this.order.amount};this.$store.dispatch("pay",e)}else this.wxPay()},onDelete:function(){this.value=this.value.slice(0,this.value.length-1)},wxPay:function(){this.$store.commit("SET_PAY",!1),"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",this.onBridgeReady,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",this.onBridgeReady),document.attachEvent("onWeixinJSBridgeReady",this.onBridgeReady)):this.onBridgeReady()},onBridgeReady:function(){var t={orderId:this.order.order_id,payType:2,yueAmount:this.order.amount,wxAmount:this.order.amount},e={orderId:this.order.order_id,payType:4,payPwd:this.value,yueAmount:this.user.wtCustomer.amount,wxAmount:parseFloat((this.order.amount-this.user.wtCustomer.amount).toFixed(2))};this.isWx?this.$store.dispatch("pay",t):this.$store.dispatch("pay",e)}}},i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"Pay"}},[o("van-popup",{attrs:{position:"bottom",overlay:!0,"close-on-click-overlay":!1},model:{value:t.PageShow,callback:function(e){t.PageShow=e},expression:"PageShow"}},[o("van-row",{staticClass:"Pay_title"},[o("van-col",{attrs:{span:"3"}},[o("img",{attrs:{src:r("Pldz"),alt:""},on:{click:t.isShowPay}})]),t._v(" "),o("van-col",{attrs:{span:"18"}},[t._v("确认付款")])],1),t._v(" "),t.isYu?o("div",{staticClass:"Pay_change"},[o("p",[t._v("订单编号："+t._s(t.order.order_num))]),t._v(" "),o("h4",[t._v("¥"+t._s(t.isWx?t.order.amount:t.user.wtCustomer.amount>t.order.amount?t.order.amount:(t.order.amount-t.user.wtCustomer.amount).toFixed(2)))]),t._v(" "),o("div",{staticClass:"Pay_start",on:{click:t.pay}},[t._v("立即付款")])]):o("div",{staticClass:"Pay_passwod"},[o("p",[t._v("请输入余额支付密码")]),t._v(" "),o("van-password-input",{staticClass:"Pay_input",attrs:{value:t.value,info:""},on:{focus:function(e){t.showKeyboard=!0}}}),t._v(" "),o("van-number-keyboard",{attrs:{show:t.showKeyboard},on:{input:t.onInput,delete:t.onDelete,blur:function(e){t.showKeyboard=!0}}})],1)],1)],1)},staticRenderFns:[]};var n=r("VU/8")(o,i,!1,function(t){r("VzaO")},"data-v-46d49ea0",null);e.a=n.exports},VzaO:function(t,e){},brMr:function(t,e,r){t.exports=r.p+"static/img/delivery.d16710e.png"},dCcM:function(t,e,r){t.exports=r.p+"static/img/payment.b964c55.png"}});
//# sourceMappingURL=9.b638e1c6f00bdba3571a.js.map
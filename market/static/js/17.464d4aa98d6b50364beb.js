webpackJsonp([17],{"0dy8":function(t,n,e){"use strict";(function(t){e("p0f0").a}).call(n,e("7t+N"))},FHWU:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e("0dy8");var s=e("l5Cx"),o={render:function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{attrs:{id:"Coupon"}},[s("nav",t._l(t.title,function(n,e){return s("div",{key:e,class:{active:t.tabIndex==e},on:{click:function(n){t.tab(e)}}},[s("span",[t._v(t._s(n))]),s("section",{directives:[{name:"show",rawName:"v-show",value:t.tabIndex==e,expression:"tabIndex == index"}]})])})),t._v(" "),s("mescroll-vue",{staticClass:"CouponMescroll",attrs:{down:t.mescrollDown,up:t.mescrollUp},on:{init:t.mescrollInit}},[t.coupon.length>0?s("div",{staticClass:"list"},t._l(t.coupon,function(n,e){return s("div",{key:e,staticClass:"coupon_list",on:{click:function(e){t.coupon_content(n.id)}}},[s("div",{staticClass:"money"},[s("h3",{class:{Coupon_list_active:t.tabIndex>0}},[s("span",[t._v("¥")]),t._v(t._s(n.discount))])]),t._v(" "),s("div",{staticClass:"content",class:{Coupon_list_active:t.tabIndex>0}},[s("h3",{class:{Coupon_list_active:t.tabIndex>0}},[t._v(t._s(n.conditionDesc))]),s("div",[t._v(t._s(n.title))])]),t._v(" "),s("div",{staticClass:"status"},[s("img",{attrs:{src:t.status[t.tabIndex],alt:""}})]),t._v(" "),s("p",{staticClass:"time",class:{Coupon_list_active:t.tabIndex>0}},[t._v("有效期："+t._s(n.limitDateStart)+" ~ "+t._s(n.limitDateEnd))])])})):s("div",{staticClass:"nos"},[s("img",{attrs:{src:e("8vHv"),alt:""}}),s("p",[t._v("目前还没有优惠券哦~")])])])],1)},staticRenderFns:[]};var a=function(t){e("hoQG")},c=e("VU/8")(s.a,o,!1,a,"data-v-5ec92de3",null);n.default=c.exports},hoQG:function(t,n){},l5Cx:function(t,n,e){"use strict";(function(t){var s=e("p0f0");n.a={data:function(){return{active:0,title:["未使用","已使用","已到期"],data:"1",status:[e("UL/6"),e("k5eK"),e("NApZ")],tabIndex:0,mescroll:null,mescrollDown:{},mescrollUp:{isBounce:!1,callback:this.upCallback,noMoreSize:5,page:{num:0,size:5},htmlNodata:'<p class="upwarp-nodata">-- 没有更多了！ --</p>'},coupon:""}},components:{MescrollVue:s.a},beforeCreate:function(){},computed:{},created:function(){document.title="优惠券"},activated:function(){},methods:{mescrollInit:function(t){this.mescroll=t},upCallback:function(n,e){var s=this;this.$axios.api.post("/shops/api/order/coupon",t.param({access_type:"WXH5",wxh:this.$store.state.market_wxh,openId:this.$store.state.market_openId,unionId:this.$store.state.unionId,queryType:this.tabIndex,limit:n.size,current:n.num})).then(function(t){if(200==t.data.code){var o=t.data.data;1===n.num&&(s.coupon=[]),s.coupon=s.coupon.concat(o),s.$nextTick(function(){0==t.data.data.length?e.endSuccess(s.coupon.length,!1):e.endSuccess(s.coupon.length)})}}).catch(function(t){return e.endErr()})},tab:function(t){this.tabIndex=t,this.coupon=[],this.mescroll.resetUpScroll()},coupon_content:function(t){this.$router.push({path:"/couponContent",query:{status:this.tabIndex,ids:t}})}}}}).call(n,e("7t+N"))}});
//# sourceMappingURL=17.464d4aa98d6b50364beb.js.map
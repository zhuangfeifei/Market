webpackJsonp([19],{TKuK:function(t,o){},YmB0:function(t,o){},kjoi:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=e("rR9E"),a=(s.a,{name:"GoodStatus",data:function(){return{goodsName:"",categoryId:"",allGoodsByCategory:[],page:{size:10,num:1},loading:!1,finished:!1}},components:{"goods-item":s.a},beforeCreate:function(){},computed:{imgUrlGoods:function(){return this.$store.state.imgUrlGoods},isKeepAlive:function(){return this.$store.state.isKeepAlive}},created:function(){document.title=this.$route.query.title||"商品分类",this.goodsName=this.$route.query.goodsName,this.categoryId=this.$route.query.categoryId},methods:{search:function(){this.page.num=1,this.onLoad()},onLoad:function(){var t=this,o={limit:this.page.size,current:this.page.num,categoryId:this.categoryId,goodsName:this.goodsName};this.$store.dispatch("allGoodsByCategory",o).then(function(o){t.loading=!1,200==o.data.code&&(1===t.page.num&&(t.allGoodsByCategory=[]),t.allGoodsByCategory=t.allGoodsByCategory.concat(o.data.data.list),0==o.data.data.list.length&&(t.finished=!0),t.page.num++)}).catch(function(o){t.loading=!1})}},beforeRouteLeave:function(t,o,e){"GoodsDetails"===t.name?e():(this.$store.commit("includedComponents",""),this.$store.commit("excludedComponents","GoodStatus"),e())},activated:function(){-1==this.$store.state.includedComponents.indexOf("GoodStatus")&&(this.$store.commit("includedComponents",this.$store.state.includedComponent+",GoodStatus"),this.$store.commit("excludedComponents",""))},deactivated:function(){}}),n={render:function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{attrs:{id:"GoodStatus"}},[s("nav",{staticClass:"search"},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.goodsName,expression:"goodsName"}],ref:"input",attrs:{id:"name",type:"text",placeholder:"搜索你想要的商品"},domProps:{value:t.goodsName},on:{input:function(o){o.target.composing||(t.goodsName=o.target.value)}}})]),t._v(" "),s("img",{attrs:{src:e("p1AH"),alt:""},on:{click:t.search}})]),t._v(" "),s("van-list",{staticClass:"GoodStatus_",attrs:{finished:t.finished,"finished-text":"没有更多了",offset:10},on:{load:t.onLoad},model:{value:t.loading,callback:function(o){t.loading=o},expression:"loading"}},[s("div",{staticClass:"GoodStatus"},[s("goods-item",{attrs:{goodsList:t.allGoodsByCategory}})],1)])],1)},staticRenderFns:[]};var i=e("VU/8")(a,n,!1,function(t){e("YmB0")},"data-v-3d88a893",null);o.default=i.exports},rR9E:function(t,o,e){"use strict";var s={render:function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{attrs:{id:"_goods"}},t._l(t.goodsList,function(o,a){return s("div",{key:a,staticClass:"goods_list",on:{click:function(e){t.$router.push({path:"/GoodsDetails",query:{id:o.id}})}}},[s("section",{style:{background:"url("+t.imgUrlGoods+o.thumbnail_pic+")","background-size":"cover","background-repeat":"no-repeat","background-position":"center"}},[o.sold_num-o.inventory==0?s("section",{staticClass:"SoldOut"},[s("img",{attrs:{src:e("kvmt"),alt:""}})]):t._e()]),t._v(" "),s("div",[s("p",[t._v(t._s(o.goods_name))])]),t._v(" "),s("span",[t._v("¥"+t._s(o.price))]),s("del",[t._v("¥"+t._s(o.market_price))])])}))},staticRenderFns:[]};var a=e("VU/8")({data:function(){return{}},components:{},props:["goodsList"],beforeCreate:function(){},created:function(){},computed:{imgUrlGoods:function(){return this.$store.state.imgUrlGoods}},methods:{}},s,!1,function(t){e("TKuK")},"data-v-412bc5f7",null);o.a=a.exports}});
//# sourceMappingURL=19.d354a9862281aec2d35c.js.map
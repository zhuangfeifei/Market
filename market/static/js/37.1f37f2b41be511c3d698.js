webpackJsonp([37],{UAFY:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("BO1k"),i=e.n(a),r={data:function(){return{show:!1,changeIndex:"",moeny:0}},components:{},beforeCreate:function(){this.$store.dispatch("listadress")},computed:{listadress:function(){for(var t in this.$store.state.listadress)1==this.$store.state.listadress[t].isdefault&&(this.changeIndex=t);return this.$store.state.listadress},cartList:function(){return""==this.$store.state.cartList&&this.$store.commit("cartList"),this.$store.state.cartList},imgUrl:function(){return this.$store.state.imgUrl}},created:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,document.title="订单确认",this.moeny=this.$route.query.moeny/100},activated:function(){},methods:{address:function(){0==this.listadress.length?this.$router.push("/AddAddress"):this.show=!0},createdOrder:function(){var t=[],s=!0,e=!1,a=void 0;try{for(var r,n=i()(this.cartList);!(s=(r=n.next()).done);s=!0){var o=r.value;t.push({goodsId:o.goodsid,goodsName:o.goodsname,goodsNum:o.amount,nowPrice:o.nowprice,oldPrice:o.marketprice,thumbPic:o.picture})}}catch(t){e=!0,a=t}finally{try{!s&&n.return&&n.return()}finally{if(e)throw a}}var d={addressId:this.listadress[this.changeIndex].id,orderMoney:this.moeny,orderSource:0,orderGoods:t};this.$store.dispatch("createGoods",d)},details:function(t){this.$router.push({path:"/AddAddress",query:{object:this.listadress[t]}})},changeAddress:function(t){this.show=!1,this.changeIndex=t}}},n={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"CreateGoodsCart"}},[a("nav",{on:{click:t.address}},[a("img",{attrs:{src:e("Li64"),alt:""}}),t._v(" "),0==t.listadress.length?a("div",[t._v("请填写收货信息")]):t._e(),t._v(" "),t._l(t.listadress,function(s,e){return t.listadress.length>0&&e==t.changeIndex?a("div",{key:e,staticClass:"nav_address"},[a("p",[t._v("收货人："+t._s(s.ship_name))]),a("span",[t._v(t._s(s.phone_num))]),t._v(" "),a("div",[t._v("收货地址："+t._s(s.province+s.city+s.area+s.address))])]):t._e()}),t._v(" "),a("img",{attrs:{src:e("nX5x"),alt:""}})],2),t._v(" "),a("div",{staticClass:"CreateGoodsCart_Commodity"},[a("h4",[t._v("商品信息")]),t._v(" "),t.cartList?a("div",{staticClass:"CreateGoodsCart_Commodity_"},t._l(t.cartList,function(s,e){return a("div",{key:e,staticClass:"CreateGoodsCart_Commodity_content"},[a("img",{attrs:{src:t.imgUrl+"file/gallery/"+t.cartList.thumbnail_pic,alt:""}}),t._v(" "),a("section",[a("p",[t._v(t._s(s.goodsname))]),t._v(" "),a("div",[a("span",[t._v(t._s(s.nowprice)+"元")]),t._v(" "),a("p",[t._v("x"+t._s(s.amount))])])])])})):t._e()]),t._v(" "),a("div",{staticClass:"CreateGoodsCart_footer"},[a("div",[a("span",[t._v("合计：")]),a("small",[t._v("¥ ")]),a("span",[t._v(t._s(t.moeny))])]),t._v(" "),a("div",{on:{click:t.createdOrder}},[t._v("提交订单")])]),t._v(" "),a("van-actionsheet",{staticClass:"actionsheet",model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[t._l(t.listadress,function(s,i){return a("div",{key:i,staticClass:"addressList",on:{click:function(s){t.changeAddress(i)}}},[a("div",[a("p",[a("span",[t._v(t._s(s.ship_name))]),a("span",[t._v(t._s(s.phone_num))]),1==s.isdefault?a("span",[t._v("默认")]):t._e()]),t._v(" "),a("span",{staticClass:"addressList_"},[t._v(t._s(s.province+s.city+s.area+s.address))])]),t._v(" "),a("img",{attrs:{src:e("27gO"),alt:""},on:{click:function(s){t.details(i)}}})])}),t._v(" "),a("div",{staticClass:"addressList_add"},[t._v("添加地址")])],2)],1)},staticRenderFns:[]};var o=e("VU/8")(r,n,!1,function(t){e("lbLc")},"data-v-2289da98",null);s.default=o.exports},lbLc:function(t,s){}});
//# sourceMappingURL=37.1f37f2b41be511c3d698.js.map
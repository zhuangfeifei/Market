webpackJsonp([39],{"0+C5":function(t,s){},"72wP":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("p0f0"),o=(i.a,{data:function(){return{activeNames:["项目","馆位","楼层","业态"],projectsNum:0,getContactListNum:-1,floorstNum:-1,calssfiyNum:-1,ishow:!0,change:!1,changes:-1,i:0,list:{categoryId:"",projectId:"",shopName:"",regionId:"",floorId:"",sort:"",order:""},mescroll:null,mescrollDown:{},mescrollUp:{isBounce:!1,callback:this.upCallback,noMoreSize:10,page:{num:0,size:10},htmlNodata:'<p class="upwarp-nodata">-- 没有更多了！ --</p>'},shopList:""}},components:{MescrollVue:i.a},beforeCreate:function(){},computed:{imgUrl:function(){return this.$store.state.imgUrl},List:function(){return this.$store.state.List},getContactList:function(){return this.$store.state.getContactList}},mounted:function(){},created:function(){document.title="品牌商家",this.$store.commit("ACTIVE",2)},beforeRouteEnter:function(t,s,e){e(function(t){t.$refs.mescroll.beforeRouteEnter()})},beforeRouteLeave:function(t,s,e){this.$refs.mescroll.beforeRouteLeave(),e()},methods:{changShow:function(t){this.i%2==0?this.change=!0:this.change=!1,this.changes=t,this.i++},getContact:function(t){this.projectsNum=t,this.list.projectId=this.List.projects[t].ID,this.func()},Contact:function(t){this.getContactListNum=t,this.list.regionId=this.getContactList[t].ID,this.func()},floors:function(t){this.floorstNum=t,this.list.floorId=this.List.floors[t].num,this.func()},calssfiy:function(t){this.calssfiyNum=t,this.list.categoryId=this.List.calssfiy[t].id,this.func()},func:function(){this.changes=-1,this.i++,this.mescroll.resetUpScroll()},focus:function(t){var s=this;this.ishow=!1,this.$nextTick(function(){s.$refs.input.focus()})},blur:function(t){this.ishow=!0},search:function(){this.mescroll.resetUpScroll()},detils:function(t){this.$router.push({path:"/ShopDetils",query:{shopid:t}})},mescrollInit:function(t){this.mescroll=t},upCallback:function(t,s){var e=this,i={categoryId:this.list.categoryId,projectId:this.list.projectId,shopName:this.list.shopName,regionId:this.list.regionId,floorId:this.list.floorId,limit:t.size,current:t.num,sort:this.list.sort,order:this.list.order};this.$store.dispatch("shopList",i).then(function(i){if(200==i.data.code){e.$store.dispatch("getContactList",e.list.projectId?e.list.projectId:i.data.data.projects[0].ID),e.$store.commit("LIST",i.data.data);var o=i.data.data.shops;1===t.num&&(e.shopList=[]),e.shopList=e.shopList.concat(o),e.$nextTick(function(){0==i.data.data.shops.length?s.endSuccess(e.shopList.length,!1):s.endSuccess(e.shopList.length)})}}).catch(function(t){return s.endErr()})}}}),n={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{attrs:{id:"Brand"}},[t.ishow?i("nav",{staticClass:"floor"},[t._l(t.activeNames,function(s,o){return i("div",{key:o,on:{click:function(s){t.changShow(o)}}},[i("span",[t._v(t._s(s))]),i("img",{attrs:{src:e("w80D"),alt:""}})])}),t._v(" "),i("div",{on:{click:t.focus}},[i("img",{attrs:{src:e("p1AH"),alt:""}})])],2):i("nav",{staticClass:"search"},[i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.list.shopName,expression:"list.shopName"}],ref:"input",attrs:{id:"name",type:"text",autofocus:"autofocus"},domProps:{value:t.list.shopName},on:{focus:function(s){t.focus(s)},blur:function(s){t.blur(s)},input:function(s){s.target.composing||t.$set(t.list,"shopName",s.target.value)}}}),i("img",{attrs:{src:e("p1AH"),alt:""},on:{click:t.search}})])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.change,expression:"change"}],staticClass:"changeList"},[i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.changes,expression:"changes == 0"}]},t._l(t.List.projects,function(s,e){return i("p",{key:e,class:{actives:t.projectsNum==e},on:{click:function(s){t.getContact(e)}}},[t._v(t._s(s.PROJECT_NAME))])})),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.changes,expression:"changes == 1"}]},t._l(t.getContactList,function(s,e){return i("p",{key:e,class:{actives:t.getContactListNum==e},on:{click:function(s){t.Contact(e)}}},[t._v(t._s(s.REGION_NAME))])})),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.changes,expression:"changes == 2"}]},t._l(t.List.floors,function(s,e){return i("p",{key:e,class:{actives:t.floorstNum==e},on:{click:function(s){t.floors(e)}}},[t._v(t._s(s.name))])})),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:3==t.changes,expression:"changes == 3"}]},t._l(t.List.calssfiy,function(s,e){return i("p",{key:e,class:{actives:t.calssfiyNum==e},on:{click:function(s){t.calssfiy(e)}}},[t._v(t._s(s.categoryName))])}))]),t._v(" "),i("mescroll-vue",{ref:"mescroll",staticClass:"BrandMescroll",attrs:{down:t.mescrollDown,up:t.mescrollUp},on:{init:t.mescrollInit}},[t.shopList.length>0?i("div",{staticClass:"Brand"},t._l(t.shopList,function(s,e){return i("div",{key:e,staticClass:"Brand_list",on:{click:function(e){t.detils(s.id)}}},[i("img",{attrs:{src:t.imgUrl+s.logo_pic,alt:""}}),t._v(" "),i("div",{staticClass:"Brand_content"},[i("h3",[t._v(t._s(s.shopName))]),t._v(" "),i("p",[i("span",[t._v(t._s(s.categoryName))]),i("span",{staticClass:"Brand_name"},[t._v(t._s(s.floor)+"-"+t._s(s.shopNum))])]),t._v(" "),i("div",[t._v(t._s(s.SHOP_DESCRIPTION))])])])})):i("div",{staticClass:"no"},[i("img",{attrs:{src:e("7hpO"),alt:""}})])])],1)},staticRenderFns:[]};var c=e("VU/8")(o,n,!1,function(t){e("0+C5")},"data-v-6aeb0ccc",null);s.default=c.exports}});
//# sourceMappingURL=39.c24a605c097f4b3bad24.js.map